# [Go - funtion](https://github.com/unknwon/the-way-to-go_ZH_CN/blob/master/eBook/06.0.md)

Go不支持函数重载

因为函数重载需要进行类型匹配，影响性能



## 值传递  引用传递

值传递，call by value

引用传递，call by reference

Go 默认使用值传递来传递参数，也就是传递参数的副本。函数接收参数副本之后，在使用变量的过程中可能对副本的值进行更改，但不会影响到原来的值。

如果希望函数可以直接修改参数的值，而不是对参数的副本进行操作，需要将参数的地址传递给函数，此时传递给函数的是一个指针。如果传递给函数的是一个指针，指针的值（地址）会被复制，但指针的值所指向的地址上的值不会被复制；可以通过这个指针的值来修改这个值所指向的地址上的值。

> **注：指针也是变量类型，有自己的地址和值，通常指针的值指向一个变量的地址。所以，按引用传递也是按值传递。**

**在函数调用时，像切片（slice）、字典（map）、接口（interface）、通道（channel）这样的引用类型默认使用引用传递。**



## 变长参数

如果函数的最后一个参数是采用 `...type`的形式，那么这个函数就可以处理一个变长的参数，这个长度可以为 0，这样的函数称为变参函数。

```go
func myFunc(a, b, arg ...int) {}
```

变长参数可以作为对应类型的 slice 进行二次传递。



## defer

defer 允许在函数返回前执行某些函数或语句。

当有多个 defer 行为被注册时，它们会以逆序执行（类似栈，即后进先出）。

关键字 defer 允许我们进行一些函数执行完成后的收尾工作，例如：

1. 关闭文件流
2. 解锁一个加锁的资源
3. 打印最终报告
4. 关闭数据库链接



## recover

用于错误处理机制，可用来捕获异常。



## 闭包（closure）

可用来实现类似于Python中的装饰器